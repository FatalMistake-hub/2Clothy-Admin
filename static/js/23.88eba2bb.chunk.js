(this["webpackJsonp2Clothy-Admin"]=this["webpackJsonp2Clothy-Admin"]||[]).push([[23],{1021:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(2),l=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(2),a.e(5),a.e(10)]).then(a.bind(null,1006))})),c=Object(n.lazy)((function(){return a.e(20).then(a.bind(null,1007))})),i=Object(n.lazy)((function(){return a.e(11).then(a.bind(null,1008))})),s=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(13)]).then(a.bind(null,1009))})),u=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(14)]).then(a.bind(null,1010))})),m=Object(n.lazy)((function(){return a.e(18).then(a.bind(null,1011))})),d=Object(n.lazy)((function(){return a.e(19).then(a.bind(null,1012))})),p=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(21)]).then(a.bind(null,1013))})),f=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(25)]).then(a.bind(null,1014))})),h=Object(n.lazy)((function(){return a.e(22).then(a.bind(null,1022))})),b=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(2),a.e(5),a.e(15)]).then(a.bind(null,1015))})),g=Object(n.lazy)((function(){return a.e(29).then(a.bind(null,1016))})),y=Object(n.lazy)((function(){return Promise.all([a.e(2),a.e(17)]).then(a.bind(null,1017))})),E=Object(n.lazy)((function(){return a.e(6).then(a.bind(null,1005))})),v=Object(n.lazy)((function(){return a.e(28).then(a.bind(null,1018))})),w=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(2),a.e(5),a.e(12)]).then(a.bind(null,1019))})),x=[{path:"/dashboard",component:l},{path:"/orders",component:c},{path:"/ordersDetail",component:i},{path:"/all-categories",component:s},{path:"/credentials",component:Object(n.lazy)((function(){return a.e(16).then(a.bind(null,1020))}))},{path:"/categories/:id",component:u},{path:"/all-products",component:m},{path:"/add-product",component:f},{path:"/product/:id",component:d},{path:"/product/update/:id",component:p},{path:"/finance",component:y},{path:"/static",component:w},{path:"/chats",component:h},{path:"/manage-profile",component:b},{path:"/settings",component:g},{path:"/404",component:E},{path:"/blank",component:v},{path:"/all-categories",component:s},{path:"/categories/:id",component:u}],O=a(77),j=[{path:"/dashboard",icon:"HomeIcon",name:"Trang ch\u1ee7"},{path:"/manage-profile",icon:"UserIcon",name:"Qu\u1ea3n l\xfd ng\u01b0\u1eddi d\xf9ng"},{path:"/credentials",icon:"KeyPerson",name:"Qu\u1ea3n l\xfd ph\xe2n quy\u1ec1n"},{icon:"CategoryIcon",name:"Danh m\u1ee5c",path:"/all-categories"},{icon:"Wallet",name:"T\xe0i ch\xednh",path:"/finance"},{path:"/static",icon:"StatIcon",name:"Ch\u1ec9 s\u1ed1"},{path:"/logout",icon:"OutlineLogoutIcon",name:"\u0110\u0103ng xu\u1ea5t"}],k=a(19),N=a(66),C=a(10),I=a(25),T=["icon"];function z(e){var t=e.icon,a=Object(O.a)(e,T),n=N[t];return r.a.createElement(n,a)}var P=function(e){var t=e.route,a=Object(n.useState)(!1),o=Object(C.a)(a,2),l=o[0],c=o[1];return r.a.createElement("li",{className:"relative px-3 ",key:t.name},r.a.createElement("button",{className:"py-3 px-4 inline-flex items-center justify-between w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200",onClick:function(){c(!l)},"aria-haspopup":"true"},r.a.createElement("span",{className:"inline-flex items-center"},r.a.createElement(z,{className:"w-5 h-5","aria-hidden":"true",icon:t.icon}),r.a.createElement("span",{className:"ml-4 text-base"},t.name)),r.a.createElement(N.DropdownIcon,{className:"w-4 h-4","aria-hidden":"true"})),r.a.createElement(I.Transition,{show:l,enter:"transition-all ease-in-out duration-300",enterFrom:"opacity-25 max-h-0",enterTo:"opacity-100 max-h-xl",leave:"transition-all ease-in-out duration-300",leaveFrom:"opacity-100 max-h-xl",leaveTo:"opacity-0 max-h-0"},r.a.createElement("ul",{className:"p-2 mt-2 space-y-2 overflow-hidden text-sm font-medium text-gray-500 rounded-md shadow-inner bg-gray-50 dark:text-gray-400 dark:bg-gray-900","aria-label":"submenu"},t.routes.map((function(e){return r.a.createElement("li",{className:"px-2 py-1 transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200",key:e.name},r.a.createElement(k.b,{className:"w-full",to:e.path},e.name))})))))},S=a(274),D=a.n(S),A=["icon"];function F(e){var t=e.icon,a=Object(O.a)(e,A),n=N[t];return r.a.createElement(n,a)}var U=function(){return r.a.createElement("div",{className:"  text-gray-500 dark:text-gray-400"},r.a.createElement("div",{className:"flex py-2  items-center w-full text-gray "},r.a.createElement("img",{"aria-hidden":"true",className:"object-contain w-16 h-16 ml-4 dark:hidden rounded-lg",src:D.a,alt:"Office"}),r.a.createElement("a",{className:"ml-4 text-2xl font-semibold text-gray-800 dark:text-gray-200",href:"#"},"Admin")),r.a.createElement("ul",{className:"mt-6"},j.map((function(e){return e.routes?r.a.createElement(P,{route:e,key:e.name}):r.a.createElement("li",{className:"relative px-6 py-2 my-5",key:e.name},r.a.createElement(k.c,{exact:!0,to:e.path,className:"inline-flex items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200",activeClassName:"text-gray-800 dark:text-gray-100"},r.a.createElement(o.b,{path:e.path,exact:e.exact},r.a.createElement("span",{className:"absolute inset-y-0 left-0 w-1 bg-orange-600 rounded-tr-lg rounded-br-lg","aria-hidden":"true"})),r.a.createElement(F,{className:"w-6 h-6","aria-hidden":"true",icon:e.icon}),r.a.createElement("span",{className:"ml-4 text-base "},e.name)))}))),r.a.createElement("div",{className:"px-6 my-6"}))};var B=function(e){return r.a.createElement("aside",{className:"z-30 flex-shrink-0 hidden w-64 overflow-y-auto bg-white dark:bg-gray-800 lg:block"},r.a.createElement(U,null))},M=a(29);var L=function(){var e=Object(n.useContext)(M.a),t=e.isSidebarOpen,a=e.closeSidebar;return r.a.createElement(I.Transition,{show:t},r.a.createElement(r.a.Fragment,null,r.a.createElement(I.Transition,{enter:"transition ease-in-out duration-150",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition ease-in-out duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0"},r.a.createElement(I.Backdrop,{onClick:a})),r.a.createElement(I.Transition,{enter:"transition ease-in-out duration-150",enterFrom:"opacity-0 transform -translate-x-20",enterTo:"opacity-100",leave:"transition ease-in-out duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0 transform -translate-x-20"},r.a.createElement("aside",{className:"fixed inset-y-0 z-50 flex-shrink-0 w-64 mt-16 overflow-y-auto bg-white dark:bg-gray-800 lg:hidden"},r.a.createElement(U,null)))))};var J=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(B,null),r.a.createElement(L,null))},R="https://i.pravatar.cc/300",q=a(17),Q=a(26),W=a(91),H=a(27),K=a(80);var G=function(){var e=Object(n.useContext)(I.WindmillContext),t=e.mode,a=e.toggleMode,l=Object(n.useContext)(M.a).toggleSidebar,c=Object(n.useState)(!1),i=Object(C.a)(c,2),s=i[0],u=i[1],m=Object(n.useState)(!1),d=Object(C.a)(m,2),p=d[0],f=d[1],h=Object(q.b)(),b=Object(q.c)(Q.a),g=Object(o.g)(),y=null===b||void 0===b?void 0:b.login.currentUser,E=null===y||void 0===y?void 0:y.accessToken;return r.a.createElement("header",{className:"w-full z-40 py-5 my-2 bg-white shadow-bottom dark:bg-gray-800"},r.a.createElement("div",{className:"container flex items-center justify-between h-full px-6 mx-auto text-orange-600 dark:text-orange-300"},r.a.createElement("button",{className:"p-1 mr-5 -ml-1 rounded-md lg:hidden focus:outline-none focus:shadow-outline-orange ",onClick:l,"aria-label":"Menu"},r.a.createElement(N.MenuIcon,{className:"w-6 h-6","aria-hidden":"true"})),r.a.createElement("div",{className:"flex justify-center flex-1 lg:mr-32"},r.a.createElement("div",{className:"relative w-full max-w-xl mr-6 focus-within:text-orange-500"})),r.a.createElement("ul",{className:"flex items-center flex-shrink-0 space-x-6"},r.a.createElement("li",{className:"flex"},r.a.createElement("button",{className:"rounded-md focus:outline-none focus:shadow-outline-orange",onClick:a,"aria-label":"Toggle color mode"},"dark"===t?r.a.createElement(N.SunIcon,{className:"w-5 h-5","aria-hidden":"true"}):r.a.createElement(N.MoonIcon,{className:"w-5 h-5","aria-hidden":"true"}))),r.a.createElement("li",{className:"relative"},r.a.createElement("button",{className:"relative align-middle rounded-md focus:outline-none focus:shadow-outline-orange",onClick:function(){u(!s)},"aria-label":"Notifications","aria-haspopup":"true"},r.a.createElement(N.BellIcon,{className:"w-5 h-5","aria-hidden":"true"}),r.a.createElement("span",{"aria-hidden":"true",className:"absolute top-0 right-0 inline-block w-3 h-3 transform translate-x-1 -translate-y-1 bg-red-600 border-2 border-white rounded-full dark:border-gray-800"})),r.a.createElement(I.Dropdown,{align:"right",isOpen:s,onClose:function(){return u(!1)}},r.a.createElement(I.DropdownItem,{tag:"a",href:"/chats",className:"justify-between"},r.a.createElement("span",null,"Messages"),r.a.createElement(I.Badge,{type:"danger"},"13")),r.a.createElement(I.DropdownItem,{tag:"a",href:"/orders",className:"justify-between"},r.a.createElement("span",null,"Sales"),r.a.createElement(I.Badge,{type:"danger"},"2")),r.a.createElement(I.DropdownItem,{onClick:function(){return alert("Alerts!")}},r.a.createElement("span",null,"Alerts")))),r.a.createElement("li",{className:"relative"},r.a.createElement("button",{className:"rounded-full focus:shadow-outline-orange focus:outline-none",onClick:function(){f(!p)},"aria-label":"Account","aria-haspopup":"true"},r.a.createElement(I.Avatar,{className:"align-middle",src:R,alt:"","aria-hidden":"true"})),r.a.createElement(I.Dropdown,{align:"right",isOpen:p,onClose:function(){return f(!1)}},r.a.createElement(I.DropdownItem,{tag:"a",href:"/manage-profile"},r.a.createElement(N.OutlinePersonIcon,{className:"w-4 h-4 mr-3","aria-hidden":"true"}),r.a.createElement("span",null,"Profile")),r.a.createElement(I.DropdownItem,{tag:"a",href:"/settings"},r.a.createElement(N.OutlineCogIcon,{className:"w-4 h-4 mr-3","aria-hidden":"true"}),r.a.createElement("span",null,"Settings")),r.a.createElement(I.DropdownItem,{onClick:function(){var e=Object(W.a)(y,h,H.a.actions.logOutSuccess);Object(K.j)(h,g,"1",E,e)}},r.a.createElement(N.OutlineLogoutIcon,{className:"w-4 h-4 mr-3","aria-hidden":"true"}),r.a.createElement("span",null,"Log out")))))))};var V=function(e){var t=e.children;return r.a.createElement("main",{className:"h-full w-full overflow-y-auto"},r.a.createElement("div",{className:" w-full  px-24 "},t))},X=a(32),Y=Object(n.lazy)((function(){return a.e(6).then(a.bind(null,1005))}));t.default=function(){var e=Object(n.useContext)(M.a),t=e.isSidebarOpen,a=e.closeSidebar,l=Object(o.h)();Object(n.useEffect)((function(){a()}),[l]);var c=Object(q.c)(Q.a),i=null===c||void 0===c?void 0:c.login.currentUser;return console.log(i),r.a.createElement("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900 ".concat(t&&"overflow-hidden")},r.a.createElement(J,null),r.a.createElement("div",{className:"flex flex-col flex-1 w-full"},r.a.createElement(G,null),r.a.createElement(V,null,r.a.createElement(n.Suspense,{fallback:r.a.createElement(X.a,null)},r.a.createElement(o.d,null,i?x.map((function(e,t){return r.a.createElement(o.b,{key:t,exact:!0,path:"".concat(e.path),render:function(t){return r.a.createElement(e.component,t)}})})):r.a.createElement(o.a,{exact:!0,to:"/"}),r.a.createElement(o.a,{exact:!0,from:"/",to:"/dashboard"}),r.a.createElement(o.b,{exact:!0,component:Y}))))))}},274:function(e,t,a){e.exports=a.p+"static/media/logo.f8865234.png"},77:function(e,t,a){"use strict";function n(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}a.d(t,"a",(function(){return n}))},91:function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a.d(t,"a",(function(){return g}));var l=a(67),c=a.n(l),i=a(70),s=a(272);function u(e){this.message=e}u.prototype=new Error,u.prototype.name="InvalidCharacterError";var m="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new u("'atob' failed: The string to be decoded is not correctly encoded.");for(var a,n,r=0,o=0,l="";n=t.charAt(o++);~n&&(a=r%4?64*a+n:n,r++%4)?l+=String.fromCharCode(255&a>>(-2*r&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return l};function d(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(m(e).replace(/(.)/g,(function(e,t){var a=t.charCodeAt(0).toString(16).toUpperCase();return a.length<2&&(a="0"+a),"%"+a})))}(t)}catch(e){return m(t)}}function p(e){this.message=e}p.prototype=new Error,p.prototype.name="InvalidTokenError";var f=function(e,t){if("string"!=typeof e)throw new p("Invalid token specified");var a=!0===(t=t||{}).header?0:1;try{return JSON.parse(d(e.split(".")[a]))}catch(e){throw new p("Invalid token specified: "+e.message)}},h=a(130),b=function(){var e=Object(i.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("user/refresh-token",{Token:t});case 3:return a=e.sent,console.log("Refresh"),e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),g=function(e,t,a){var n=s.a.create({baseURL:"https://commerce-2clothy.azurewebsites.net/api/"});return n.interceptors.request.use(function(){var n=Object(i.a)(c.a.mark((function n(r){var l,i,s;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l=new Date,!(f(null===e||void 0===e?void 0:e.accessToken).exp<(l.getTime()+1e4)/1e3)){n.next=10;break}return n.next=5,b(null===e||void 0===e?void 0:e.refreshToken);case 5:i=n.sent,console.log("data",i),s=o(o({},e),{},{accessToken:i.accessToken,refreshToken:i.refreshToken}),t(a(s)),r.headers.Authorization="Bearer "+i.accessToken;case 10:return n.abrupt("return",r);case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),(function(e){return Promise.reject(e)})),n}}}]);
//# sourceMappingURL=23.88eba2bb.chunk.js.map